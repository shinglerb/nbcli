
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Eric Geldmacher">
      
      
      
        <link rel="prev" href="../search/">
      
      
        <link rel="next" href="../create/">
      
      <link rel="icon" href="../../images/nbcli.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>filter - nbcli: NetBox Command-Line Client</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nbcli-filter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <span class="twemoji">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>
  </span>
  <strong>nbcli is still in development. Syntax of commands are subject to change.</strong>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="nbcli: NetBox Command-Line Client" class="md-header__button md-logo" aria-label="nbcli: NetBox Command-Line Client" data-md-component="logo">
      
  <img src="../../images/nbcli.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            nbcli: NetBox Command-Line Client
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              filter
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ericgeldmacher/nbcli" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ericgeldmacher/nbcli
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../quick-start/" class="md-tabs__link">
      Get Started
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../init/" class="md-tabs__link md-tabs__link--active">
        Commands
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../extend/views/" class="md-tabs__link">
        Extend
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../reference/envars/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../test-env/" class="md-tabs__link">
      Testing
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="nbcli: NetBox Command-Line Client" class="md-nav__button md-logo" aria-label="nbcli: NetBox Command-Line Client" data-md-component="logo">
      
  <img src="../../images/nbcli.svg" alt="logo">

    </a>
    nbcli: NetBox Command-Line Client
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ericgeldmacher/nbcli" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ericgeldmacher/nbcli
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/" class="md-nav__link">
        Get Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          Commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Commands" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../init/" class="md-nav__link">
        init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../info/" class="md-nav__link">
        info
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../search/" class="md-nav__link">
        search
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          filter
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        filter
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    Basic usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyword-arguments" class="md-nav__link">
    Keyword arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-resolve-arguments-wip" class="md-nav__link">
    Auto-resolve arguments [WIP]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compound-resolve-arguments-wip" class="md-nav__link">
    Compound-resolve arguments [WIP]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-results" class="md-nav__link">
    Modifying results
  </a>
  
    <nav class="md-nav" aria-label="Modifying results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating" class="md-nav__link">
    Updating
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting" class="md-nav__link">
    Deleting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detail-endpoint" class="md-nav__link">
    Detail Endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controlling-output" class="md-nav__link">
    Controlling output
  </a>
  
    <nav class="md-nav" aria-label="Controlling output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-json" class="md-nav__link">
    --json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-detail" class="md-nav__link">
    --detail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-view" class="md-nav__link">
    ---view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cols" class="md-nav__link">
    --cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-nh-no-header" class="md-nav__link">
    --nh, --no-header
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../create/" class="md-nav__link">
        create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../shell/" class="md-nav__link">
        shell
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          Extend
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extend" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Extend
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extend/views/" class="md-nav__link">
        Views
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extend/commands/" class="md-nav__link">
        Command
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/envars/" class="md-nav__link">
        Environment Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/create-examples/" class="md-nav__link">
        Create Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/nbprint/" class="md-nav__link">
        nbprint()
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../test-env/" class="md-nav__link">
        Testing
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="nbcli-filter">nbcli filter</h1>
<div class="highlight"><pre><span></span><code>$ nbcli filter -h
usage: nbcli filter [-h] [-v] [-q] [--json | --detail] [--view VIEW]
                    [--cols [COLS [COLS ...]]] [--nh] [--dl]
                    [-a | -c | -D | --ud [UD [UD ...]]] [--de [DE [DE ...]]]
                    [--pre PRE]
                    model [args [args ...]]

Filter Netbox objects by searchterm and object properties.

Optionally update and delete objects returned by the filter.
Control output view and listed columns.

positional arguments:
  model                 NetBox model.
  args                  Argument(s) to filter results.

optional arguments:
  -h, --help            show this help message and exit
  -v, --verbose         Show more logging messages
  -q, --quiet           Show fewer logging messages
  --json                Display results as json string.
  --detail              Display more detailed info for results.
  --view VIEW           View model to use
  --cols [COLS [COLS ...]]
                        Custom columns for table output.
  --nh, --no-header     Disable header row in results
  --dl, --disable-limit
                        Disable limiting number of results returned.
  -a, --all             List all object from endpoint.
  -c, --count           Return the count of objects in filter.
  -D, --delete          Delete Object(s) returned by filter. [WIP]
  --ud [UD [UD ...]], --update [UD [UD ...]]
                        Update object(s) returned by filter with given kwargs. [WIP]
  --de [DE [DE ...]], --detail-endpoint [DE [DE ...]]
                        List results from detail endpoint With optional kwargs. [WIP]
  --pre PRE, --stdin-prefix PRE
                        Prefix to add to stdin args.

Filter Netbox objects by a searchterm and object properties.

Usage Examples:

- Filter IP Addresses with searchterm &#39;192.168.1.1&#39;:
  $ nbcli filter address 192.168.1.1

- Filter devices by serial number using keyword arguments:
  $ nbcli filter device serial=123456

- Filter devices types by manufacturer using auto-resolve arguments: 
  $ nbcli filter device_type manufacturer:ACME

- Update tenant on devices returned by filter:
  $ nbcli filter device name=server1 -ud tenant:tenant2

- Delete IP addresses returned by filter:
  $ nbcli filter address 192.168.1.1 -D
</code></pre></div>
<p>The <code>filter</code> command is designed to emulate the "list view" of the Netbox web
interface. Results can be refined with a search term, keyword,
"auto-resolve", and "compound-resolve" arguments.</p>
<p>Objects returned by the filter can optionally updated or deleted.</p>
<h2 id="basic-usage">Basic usage</h2>
<p>The simplest way to use the <code>filter</code> command is just to pass a search term.
Any argument not containing an <code>=</code> or <code>:</code> will be considered a search term
argument.</p>
<div class="highlight"><pre><span></span><code>nbcli filter device webserver
</code></pre></div>
<p>Multiple search terms can be passed to the <code>filter</code> command, but only the first
will be used. If your search term needs to contain a space, make sure to wrap
it in quotes.</p>
<div class="highlight"><pre><span></span><code>nbcli filter device &#39;web server&#39;
</code></pre></div>
<p>Search term arguments can be mixed and matched with any combination of keyword,
auto-resolve, and compound-resolve arguments to refine your filter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>filter</code> command will limit the number of returned results to 50 by default.
Adding the <code>--dl</code> argument will return all results.</p>
<p>The default can be changed in the <code>user_config.yml</code> file by editing the value for <code>filter_limit</code>.
<div class="highlight"><pre><span></span><code>    nbcli:
      filter_limit: 50
</code></pre></div></p>
<p>This feature can be overridden completely by setting <code>filter_limit</code> to <code>0</code></p>
</div>
<h2 id="keyword-arguments">Keyword arguments</h2>
<p>Any argument containing an <code>=</code> will be considered a keyword argument in the
form of <code>key=value</code>. </p>
<div class="highlight"><pre><span></span><code>nbcli filter device serial=123456
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keyword arguments are passed to the given REST API endpoint via
<a href="https://pynetbox.readthedocs.io/en/latest/endpoint.html#pynetbox.core.endpoint.Endpoint.filter">pynetbox</a>
so a familiarity with the Netbox's REST API will help.<br />
You can find your Netbox instances API docs at https://your.netbox.url/api/docs<br />
You may also want to have a look at 
<a href="https://netbox.readthedocs.io/en/stable/rest-api/filtering/">Netbox's Documentation</a>
on REST API Filtering</p>
</div>
<p>Multiple keyword arguments can be passed to the <code>filter</code> command and all will
be used to refine the filter.</p>
<div class="highlight"><pre><span></span><code>nbcli filter address parent=192.168.1.0/24 status=reserved
</code></pre></div>
<p>Some keyword arguments can be "stacked" where multiple values can be passed for
the same key. (This only applies if it is supported by the given parameter of
the REST API endpoint.)</p>
<div class="highlight"><pre><span></span><code>nbcli filter address status=dhcp status=reserved
</code></pre></div>
<h2 id="auto-resolve-arguments-wip">Auto-resolve arguments [WIP]</h2>
<p>Any argument containing a <code>:</code> will be considered an auto-resolve argument in
the form of <code>object:name</code>.</p>
<p>The following will list all devices in rack 1.1</p>
<div class="highlight"><pre><span></span><code>nbcli filter device rack:1.1
</code></pre></div>
<p>These can also be combined to refine the filter.</p>
<div class="highlight"><pre><span></span><code>nbcli filter device rack:1.1 device_type:R840
</code></pre></div>
<p>And stacked to include more results</p>
<div class="highlight"><pre><span></span><code>nbcli filter device rack:1.1 rack:1.2
nbcli filter device rack:1.1:1.2
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Behind the sceans, auto-resolve arguments are essantally running another
<code>filter</code> command and passing the <code>id</code> values of the results as to the main
<code>filter</code> command.<br />
So <code>nbcli filter device rack:1.1</code> is running:
<div class="highlight"><pre><span></span><code>nbcli filter rack name=1.1
</code></pre></div>
and then modifying the origenal <code>filter</code> command to be:
<div class="highlight"><pre><span></span><code>nbcli filter device rack_id=1
</code></pre></div>
For most object types, the  value after the <code>:</code>, is applyed to the key <code>name</code>.<br />
You can override this behavior by inserting a keyword argument after the <code>:</code><br />
The following command should return all devices in racks with the status <code>reserved</code>:
<div class="highlight"><pre><span></span><code>nbcli filter device rack:status=reserved
</code></pre></div></p>
</div>
<h2 id="compound-resolve-arguments-wip">Compound-resolve arguments [WIP]</h2>
<p>Any argument containing a <code>::</code> will be considered a compound-resolve argument
in the form of <code>object::object:name</code>.</p>
<p>Compound-resolve arguments take the concept of auto-resolve further, by allowing
you to apply an auto-resolve to an auto-resolve. This allows you to put more
precise constraints on your auto-resolve arguments.</p>
<p>For instance you can list interfaces matching the search term 'eth' only on
devices in rack 1.1.</p>
<div class="highlight"><pre><span></span><code>nbcli filter interface eth device::rack:1.1
</code></pre></div>
<h2 id="modifying-results">Modifying results</h2>
<p>Results from the filter can be updated or deleted. You will always be prompted
to confirm when updating or deleting.</p>
<h3 id="updating">Updating</h3>
<p>Update objects returned by filter.
Values can be updated with keyword arguments and/or auto-resolve arguments.</p>
<div class="highlight"><pre><span></span><code>$ nbcli filter rack tenant:ENCOM --ud status=reserved &#39;site:NY DC-1&#39;
Update Racks with {&#39;status&#39;: &#39;reserved&#39;, &#39;site&#39;: 2}?
* 1.1 (1)
* 1.2 (2)
(yes) to update: yes
1.1 (1) Updated!
1.2 (2) Updated!
</code></pre></div>
<h3 id="deleting">Deleting</h3>
<p>Delete objects returned by filter.</p>
<div class="highlight"><pre><span></span><code>$ nbcli filter device db -D
Delete Devices?
* db-1 (5)
* db-2 (6)
(yes) to delete: yes
db-1 (5) Deleted!
db-2 (6) Deleted!
</code></pre></div>
<h2 id="detail-endpoint">Detail Endpoint</h2>
<p>pynetbox <a href="https://pynetbox.readthedocs.io/en/latest/endpoint.html#pynetbox.core.endpoint.DetailEndpoint">DetailEndpoint</a>
objects can be access with the <code>--de</code> flag.</p>
<div class="highlight"><pre><span></span><code>nbcli filter prefix 192.168.1.0/24 --de available_ips
</code></pre></div>
<h2 id="controlling-output">Controlling output</h2>
<p>The following optional arguments can change how the results of the filter
command are displayed.</p>
<div class="highlight"><pre><span></span><code>  --json                Display results as json string.
  --detail              Display more detailed info for results.
  --view VIEW           View model to use
  --cols [COLS [COLS ...]]
                        Custom columns for table output.
  --nh, --no-header     Disable header row in results
</code></pre></div>
<h3 id="-json">--json</h3>
<p>Display results as json string. Output should be similar (but may not be
exactly the same) as the contents from the <code>results</code> field when accessing the
Netbox API directly.</p>
<h3 id="-detail">--detail</h3>
<p>Display more detailed info for results.</p>
<h3 id="-view">---view</h3>
<p>Override the default view model for the given object types with one defined by
a <a href="../../extend/views/">User Custom View</a> or extention, by specifying it's Class
name.</p>
<div class="highlight"><pre><span></span><code>nbcli filter device rack:1.1 --view MyDevicesView
</code></pre></div>
<h3 id="-cols">--cols</h3>
<p>Specify object attributes to display in table view.</p>
<div class="highlight"><pre><span></span><code>$ nbcli filter device tenant:ENCOM --cols name rack position device_type
name         rack  position  device_type
chassis-1    1.2   1         A-2U-C
compute-1    1.2   -         A-BL-S
compute-2    1.2   -         A-BL-S
compute-3    1.2   -         A-BL-S
compute-4    1.2   -         A-BL-S
web-1        1.1   2         A-1U-S
web-2        1.1   3         A-1U-S
web-3        1.1   4         A-1U-S
web-proxy-1  1.1   1         A-1U-S
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Looking at the json view will give you some insite on what attribues are
available for a given object type.
<div class="highlight"><pre><span></span><code>$ nbcli filter device compute-1 --json | jq
</code></pre></div>
or
<div class="highlight"><pre><span></span><code>$ nbcli filter device compute-1 --json | python3 -m json.tool
</code></pre></div></p>
</div>
<p>If the attribute is an instance of another object type, you can <code>drill into</code>
that object to grab it's attributes</p>
<div class="highlight"><pre><span></span><code>$ nbcli filter device tenant:ENCOM --cols name rack position parent_device parent_device.position parent_device.device_bay
name         rack  position  parent_device  parent_device.position  parent_device.device_bay
chassis-1    1.2   1         -              -                       -
compute-1    1.2   -         chassis-1      1                       1
compute-2    1.2   -         chassis-1      1                       2
compute-3    1.2   -         chassis-1      1                       3
compute-4    1.2   -         chassis-1      1                       4
web-1        1.1   2         -              -                       -
web-2        1.1   3         -              -                       -
web-3        1.1   4         -              -                       -
web-proxy-1  1.1   1         -              -                       -
</code></pre></div>
<p><code>--cols</code> should fail gracefully, so if the attribute does not exist, or is
null, or and empty string the value will be displayed as an <code>-</code></p>
<div class="highlight"><pre><span></span><code>$ nbcli filter device tenant:ENCOM --cols name bad_attr bad_attr.child_attr
name         bad_attr  bad_attr.child_attr
chassis-1    -         -
compute-1    -         -
compute-2    -         -
compute-3    -         -
compute-4    -         -
web-1        -         -
web-2        -         -
web-3        -         -
web-proxy-1  -         -
</code></pre></div>
<h3 id="-nh-no-header">--nh, --no-header</h3>
<p>Allows you to remove the header row in the table view.
(Useful for when piping to another shell command.)</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "search.suggest", "toc.integrate"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>